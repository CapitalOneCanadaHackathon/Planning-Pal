<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>Piggy</title>
    <link rel="stylesheet" href="css/framework7.ios.css">
    <link rel="stylesheet" href="css/framework7.ios.colors.css">
    <link rel="stylesheet" href="css/kitchen-sink.css">
    <link rel="icon" href="img/icon.png">
    <link rel="apple-touch-icon" href="img/icon.png">
    <script type="text/javascript" src='https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js'></script>

  </head>
  <body>
    <div class="statusbar-overlay"></div>
    <div class="panel-overlay"></div>
    <div class="panel panel-left panel-cover layout-dark">
      <div class="content-block-title">Left Panel</div>
      <div class="content-block">
        <p>This is a side panel. You can close it by clicking outsite or on this link: <a href="#" class="close-panel">close me</a>. You can put here anything, even another isolated view like in <a href="#" data-panel="right" class="open-panel">Right Panel</a></p>
      </div>
      <div class="content-block-title">Framework7 Kitchen Sink</div>
      <div class="list-block">
        <ul>
          <li><a href="kitchen-sink.html" class="item-link close-panel"> 
              <div class="item-content">
                <div class="item-media"><i class="icon icon-f7"></i></div>
                <div class="item-inner"> 
                  <div class="item-title">Kitchen Sink</div>
                </div>
              </div></a></li>
          <li><a href="forms.html" class="item-link close-panel"> 
              <div class="item-content">
                <div class="item-media"><i class="icon icon-f7"></i></div>
                <div class="item-inner"> 
                  <div class="item-title">Forms</div>
                </div>
              </div></a></li>
          <li><a href="list-view.html" class="item-link close-panel"> 
              <div class="item-content">
                <div class="item-media"><i class="icon icon-f7"></i></div>
                <div class="item-inner"> 
                  <div class="item-title">List View</div>
                </div>
              </div></a></li>
          <li><a href="media-lists.html" class="item-link close-panel"> 
              <div class="item-content">
                <div class="item-media"><i class="icon icon-f7"></i></div>
                <div class="item-inner"> 
                  <div class="item-title">Media Lists</div>
                </div>
              </div></a></li>
          <li><a href="modals.html" class="item-link close-panel"> 
              <div class="item-content">
                <div class="item-media"><i class="icon icon-f7"></i></div>
                <div class="item-inner"> 
                  <div class="item-title">Modals</div>
                </div>
              </div></a></li>
          <li><a href="bars.html" class="item-link close-panel"> 
              <div class="item-content">
                <div class="item-media"><i class="icon icon-f7"></i></div>
                <div class="item-inner"> 
                  <div class="item-title">Navbars And Toolbars</div>
                </div>
              </div></a></li>
          <li><a href="popover.html" class="item-link close-panel"> 
              <div class="item-content">
                <div class="item-media"><i class="icon icon-f7"></i></div>
                <div class="item-inner"> 
                  <div class="item-title">Popover</div>
                </div>
              </div></a></li>
          <li><a href="panels.html" class="item-link close-panel"> 
              <div class="item-content">
                <div class="item-media"><i class="icon icon-f7"></i></div>
                <div class="item-inner"> 
                  <div class="item-title">Side Panels</div>
                </div>
              </div></a></li>
          <li><a href="swipe-delete.html" class="item-link close-panel"> 
              <div class="item-content">
                <div class="item-media"><i class="icon icon-f7"></i></div>
                <div class="item-inner"> 
                  <div class="item-title">Swipe To Delete</div>
                </div>
              </div></a></li>
          <li><a href="swiper.html" class="item-link close-panel"> 
              <div class="item-content">
                <div class="item-media"><i class="icon icon-f7"></i></div>
                <div class="item-inner"> 
                  <div class="item-title">Swiper Slider</div>
                </div>
              </div></a></li>
          <li><a href="tabs.html" class="item-link close-panel"> 
              <div class="item-content">
                <div class="item-media"><i class="icon icon-f7"></i></div>
                <div class="item-inner"> 
                  <div class="item-title">Tabs</div>
                </div>
              </div></a></li>
        </ul>
      </div>
      <div class="content-block">
        <p>Long text block goes here. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras sem urna, gravida non scelerisque id, fringilla ac velit. Phasellus elementum a ipsum at ornare. Mauris sagittis rhoncus euismod. Integer convallis augue eu lacus ultrices, in dictum elit consequat. Nulla faucibus massa id felis egestas eleifend. Proin consequat dignissim magna ut scelerisque. Vestibulum ac lorem semper, posuere sapien nec, pharetra massa. Nulla a tellus facilisis, sollicitudin quam porta, aliquam lorem. Fusce dignissim eros ac diam molestie, ut ultrices lorem tristique. Ut facilisis augue ac nisi egestas malesuada. Nunc posuere tortor quis eleifend mollis. Aliquam erat volutpat. Donec feugiat elit tellus, nec convallis orci elementum in. Sed urna mi, vestibulum id tempus id, pretium et ante. Pellentesque eget sollicitudin ligula. Phasellus pellentesque velit eu porta suscipit.</p>
      </div>
    </div>
    <div class="panel panel-right panel-reveal layout-dark">
      <div class="view view-right">
        <div class="navbar">
          <div class="navbar-inner">
            <div class="center sliding">Right Panel</div>
          </div>
        </div>
        <div class="pages navbar-through">
          <div data-page="panel-right1" class="page">
            <div class="page-content"> 
              <div class="content-block">
                <p>This is a right side panel. You can close it by clicking outsite or on this link: <a href="#" class="close-panel">close me</a>. You can put here anything, even another isolated view, try it:</p>
              </div>
              <div class="list-block">
                <ul>
                  <li><a href="panel-right2.html" class="item-link"> 
                      <div class="item-content">
                        <div class="item-inner"> 
                          <div class="item-title">Right panel page 2</div>
                        </div>
                      </div></a></li>
                  <li><a href="panel-right3.html" class="item-link">
                      <div class="item-content">
                        <div class="item-inner"> 
                          <div class="item-title">Right panel page 3</div>
                        </div>
                      </div></a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="views">
      <div class="view view-main">
        <div id="burgerMenu" style="position: absolute; top: 0; left: 0; z-index: 100; padding: 15px">
          <a href="#" class="open-panel link icon-only"><i class="fa fa-bars" aria-hidden="true" style=" font-size: 32px; color: #000;"></i></a>
        </div>
        <div class="toolbar">
          <div class="toolbar-inner"><a href="#" data-popup=".demo-popup" class="link open-popup">Login</a><a href="#" data-popover=".popover-menu" class="open-popover link">Menu</a></div>
        </div>
        <div class="pages navbar-through toolbar-through">
          <div data-page="index" class="page" style="background: #fff;">
            <div class="page-content" style="padding-top: 0;">
              <div id="header" style="width: 100%; padding-top: 40px; padding-bottom: 40px; background: #7ed9de;">
                <div id="piggyFace" style="width: 100%;" align="center">
                  <img src="img/piggy1.jpg" style="width: 120px;">
                </div>
                <div id="progressBarContainer" style="width: 100%;" align="center">
 <!--                  <div id="progressBar" style="width: 70%; height: 50px; background: #000; border-radius: 30px; border-style: solid; border-color: #494a49; border-width: 6px; overflow: hidden;" align="left">
                    <div id="barProgress" style="width: 75%; height: 100%; background: #adcf36;"></div>
                  </div> -->
                  <progress id="progressBar" max='1000'></progress>
                  <div id="subProgressBar" style="width: 62%; margin-top: 5px">
                    <table style="width: 100%; font-weight: 700;">
                      <tr>
                        <td id="name">
                          Piggy
                        </td>
                        <td id="points" align="right">
                          <span id="userTotalPoints" style="color: #fff;">927</span><span id="currentOutOf">/ 1000 pts</span>
                        </td>
                      </tr>
                    </table>
                  </div>
                </div>
              </div>
              <div id="badges" align="center">
                <h1>Badges</h1>
                <table style="width: 100%;">
                  <tr>
                    <td id="badge1" class="badge1">
                      <div id="blankBadge1" class="blankBadge"></div>
                    </td>
                    <td id="badge2" class="badge1"><div id="blankBadge1" class="blankBadge"></div></td>
                    <td id="badge3" class="badge1"><div id="blankBadge1" class="blankBadge"></div></td>
                  </tr>
                  <tr>
                    <td id="badge4" class="badge1"><div id="blankBadge1" class="blankBadge"></div></td>
                    <td id="badge5" class="badge1"><div id="blankBadge1" class="blankBadge"></div></td>
                    <td id="badge6" class="badge1"><div id="blankBadge1" class="blankBadge"></div></td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="popup demo-popup">
      <div class="view navbar-fixed">
        <div class="pages">
          <div class="page" id="mainPage1" style="background: rgb(130, 217, 222)">
            <!-- <div class="navbar">
              <div class="navbar-inner">
                <div class="center">Popup Title</div>
                <div class="right"><a href="#" class="link close-popup">Done</a></div>
              </div>
            </div> -->
            <div class="page-content" id="piggyStart">
              <div id="getStarted">
                <div align="center" style="width: 100%;"><a style="width: 50%;" href="#" class="button button-big active" onclick="$('.demo-popup').find('.page-content').css('padding', '0');$('#getStarted').css('display', 'none');$('#piggy_name').css('display', 'block');$('#mockupBody').css('display', 'block');$('.demo-popup').find('.page-content').scrollTop('20');">GET STARTED</a></div>
              </div>
              <div id="mockupBody" style="display: none;">
                <img id="piggy_name" src="img/mockups/ProsperCanada-2_Name.jpg" style="width: 100%; height: 100%;" onclick="$('#piggy_name').css('display', 'none'); $('#piggy_custo').css('display', 'block');">
                <img id="piggy_custo" src="img/mockups/ProsperCanada-3_Customize.jpg" style="width: 100%; height: 100%;" onclick="$('#piggy_custo').css('display', 'none'); $('#intro1').css('display', 'block');">
                <img id="intro1" src="img/mockups/ProsperCanada-4_Intro1.jpg" style="width: 100%; height: 100%;" onclick="$('#intro1').css('display', 'none'); $('#intro2').css('display', 'block');">
                <img id="intro2" src="img/mockups/ProsperCanada-5_Intro2.jpg" style="width: 100%; height: 100%;" onclick="$('#intro2').css('display', 'none'); $('#intro2_1').css('display', 'block');">
                <img id="intro2_1" src="img/mockups/ProsperCanada-6_Intro2_1.jpg" style="width: 100%; height: 100%;" onclick="$('#intro2_1').css('display', 'none'); $('#intro3').css('display', 'block');">
                <img id="intro3" src="img/mockups/ProsperCanada-7_Intro3.jpg" style="width: 100%; height: 100%;" onclick="$('#intro3').css('display', 'none'); $('#intro3_1').css('display', 'block');">
                <img id="intro3_1" src="img/mockups/ProsperCanada-8_Intro3_1.jpg" style="width: 100%; height: 100%;" onclick="$('#intro3_1').css('display', 'none'); $('#intro4').css('display', 'block');">
                <img id="intro4" src="img/mockups/ProsperCanada-9_Intro4.jpg" style="width: 100%; height: 100%;" onclick="$('#intro4').css('display', 'none'); $('#intro5').css('display', 'block');">
                <img id="intro5" src="img/mockups/ProsperCanada-10_Intro5.jpg" style="width: 100%; height: 100%;" onclick="$('#intro5').css('display', 'none'); $('#bank1').css('display', 'block');">
                <img id="bank1" src="img/mockups/ProsperCanada-11_Bank1.jpg" style="width: 100%; height: 100%;" onclick="$('#bank1').css('display', 'none'); $('#bank2').css('display', 'block');">
                <img id="bank2" src="img/mockups/ProsperCanada-12_Bank2.jpg" style="width: 100%; height: 100%;" onclick="$('#bank2').css('display', 'none'); $('#goals').css('display', 'block');">
                <img id="goals" src="img/mockups/ProsperCanada-13_Goals.jpg" style="width: 100%; height: 100%;" onclick="$('#goals').css('display', 'none'); $('#mainPage1').css('background', '#ffd236'); $('#spendingMain').css('display', 'block');">
              </div>
              <div id="spendingMain" style="display: none;" align="center">
                <img src="img/ProsperCanada-14 Spending.jpg" style="width: 100%; ">
                <table style="width: 90%;" align="center" class="willTable1">
                  <tr>
                    <td style="padding-left:20px;font-weight: 600;text-decoration: underline;font-size: small;">ITEM</td>
                    <td style="padding-left:40px;font-weight: 600;text-decoration: underline;font-size: small;">DURATION</td>
                    <td style="text-align: center;font-weight: 600;text-decoration: underline;font-size: small;">BUDGET</td>
                  </tr>
                  <tr>
                    <td>
                      <i class="fa fa-plus-circle" aria-hidden="true" style="    margin-right: 10px;"></i>Bills
                    </td>
                    <td style="padding-left:40px">
                      Bi-Weekly<i class="fa fa-chevron-down" aria-hidden="true" style="padding-left: 5px;"></i>
                    </td>
                    <td style="padding-left:40px;font-weight: 600;">
                      $100
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <i class="fa fa-minus-circle" aria-hidden="true" style="    margin-right: 10px;"></i>Food
                    </td>
                    <td style="padding-left:40px">
                      Weekly<i class="fa fa-chevron-down" aria-hidden="true" style="padding-left: 5px;"></i>
                    </td>
                    <td style="padding-left:40px;font-weight: 600;">
                      $75
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left: 40px;border-bottom: none;">
                      Groceries
                    </td>
                    <td style="border-bottom: none;padding-left:40px">
                      
                    </td>
                    <td style="border-bottom: none;padding-left:40px">
                      $50
                    </td>
                  </tr>
                  <tr>
                    <td style="padding-left: 40px;border-bottom: none;">
                      Eating Out
                    </td>  
                    <td style="border-bottom: none;padding-left:40px">
                      
                    </td>                
                    <td style="border-bottom: none;padding-left:40px">
                      $25
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <i class="fa fa-plus-circle" aria-hidden="true" style="    margin-right: 10px;padding-left: 20px;color: grey"></i>Add line item
                    </td style="color:grey">
                    <td>
                      
                    </td>  
                    <td style="padding-left:40px">
                      
                    </td>                     
                  </tr>
                  <tr>
                    <td >
                      <i class="fa fa-plus-circle" aria-hidden="true" style="    margin-right: 10px;"></i>Leisure
                    </td>
                    <td style="padding-left:40px">
                      Weekly<i class="fa fa-chevron-down" aria-hidden="true" style="padding-left: 5px;"></i>
                    </td>
                    <td style="padding-left:40px;font-weight: 600;">
                      $100
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <i class="fa fa-plus-circle" aria-hidden="true" style="    margin-right: 10px;"></i>Transit
                    </td>
                    <td style="padding-left:40px">
                      Monthly<i class="fa fa-chevron-down" aria-hidden="true" style="padding-left: 5px;"></i>
                    </td>
                    <td style="padding-left:40px;font-weight: 600;">
                      $50
                    </td>
                  </tr>
                </table>
              </div> 
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="popover popover-menu">
      <div class="popover-angle"></div>
      <div class="popover-inner">
        <div class="list-block">
          <ul>
            <li><a href="modals.html" class="list-button item-link">Modals</a></li>
            <li><a href="popover.html" class="list-button item-link">Popover</a></li>
            <li><a href="tabs.html" class="list-button item-link">Tabs</a></li>
            <li><a href="panels.html" class="list-button item-link">Side Panels</a></li>
            <li><a href="list-view.html" class="list-button item-link">List View</a></li>
            <li><a href="forms.html" class="list-button item-link">Forms</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="popover popover-music">
      <div class="popover-angle"></div>
      <div class="popover-inner">
        <div class="list-block media-list">
          <ul>
            <li><a href="#" class="item-link item-content">
                <div class="item-media"><!-- <img src="http://lorempixel.com/88/88/people/1" width="44">--></div>
                <div class="item-inner">
                  <div class="item-title-row">
                    <div class="item-title">Yellow Submarine</div>
                  </div>
                  <div class="item-subtitle">Beatles</div>
                </div></a></li>
            <li><a href="#" class="item-link item-content">
                <div class="item-media"><!-- <img src="http://lorempixel.com/88/88/people/2" width="44"> --></div>
                <div class="item-inner">
                  <div class="item-title-row">
                    <div class="item-title">Don't Stop Me Now</div>
                  </div>
                  <div class="item-subtitle">Queen</div>
                </div></a></li>
            <li><a href="#" class="item-link item-content">
                <div class="item-media"><!-- <img src="http://lorempixel.com/88/88/people/3" width="44"> --></div>
                <div class="item-inner">
                  <div class="item-title-row">
                    <div class="item-title">Billie Jean</div>
                  </div>
                  <div class="item-subtitle">Michael Jackson</div>
                </div></a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="login-screen">
      <div class="view">
        <div class="page">
          <div class="page-content login-screen-content">
            <div class="login-screen-title">Framework7</div>
            <form>
              <div class="list-block">
                <ul>
                  <li class="item-content">
                    <div class="item-inner"> 
                      <div class="item-title label">Username</div>
                      <div class="item-input">
                        <input type="text" name="username" placeholder="Your username">
                      </div>
                    </div>
                  </li>
                  <li class="item-content">
                    <div class="item-inner"> 
                      <div class="item-title label">Password</div>
                      <div class="item-input">
                        <input type="password" name="password" placeholder="Your password">
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
              <div class="list-block">
                <ul>
                  <li><a href="#" class="item-link list-button">Sign In</a></li>
                </ul>
                <div class="list-block-label">Some text about login information.<br>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div class="picker-modal picker-modal-demo">
      <div class="toolbar">
        <div class="toolbar-inner">
          <div class="left"></div>
          <div class="right"><a href="#" class="link close-picker">Done</a></div>
        </div>
      </div>
      <div class="picker-modal-inner">
        <div class="content-block">
          <p>Integer mollis nulla id nibh elementum finibus. Maecenas eget fermentum ipsum. Sed sagittis condimentum nisl at tempus. Duis lacus libero, laoreet vitae ligula a, aliquet eleifend sapien. Nullam sodales viverra sodales. Nulla hendrerit condimentum dolor facilisis tempor. Donec at est malesuada, sagittis nisi et, accumsan enim.</p>
        </div>
      </div>
    </div>
    <script type="text/javascript" src="js/database-setup.js"></script>
    <script type="text/javascript" src="js/fetch-banking-transactions.js"></script>
    <script type="text/javascript" src="js/goal-tracker.js"></script>
    <script type="text/javascript" src="js/framework7.js"></script>
    <script type="text/javascript" src="js/kitchen-sink.js"></script>
    <script type="text/javascript" src="cordova.js"></script>
    <script src="https://use.fontawesome.com/ed4d942f4e.js"></script>
    <script type="text/javascript" src="js/goals-info.js"></script>
    <script type="text/javascript" src="js/badges.js"></script>
    <script type="text/javascript" src="js/levels.js"></script>
    <!-- <script type="text/javascript" src="cordova.js"></script> -->

    <script>
        window.database = new DatabaseSetup()
        window.bankInfo = new BankInfo()
        window.goalsTracker = new GoalTracker();
        window.badges = Badges();
        window.goalInfo = GoalsInfo();
        window.levels = Levels();
        
        database.buildDatabase()
          // .then(bankInfo.fetchTransactions)
          // .then(database.updateDatabaseWithTransationInfo)
          .then(goalsTracker.getCurrentGoals)
          .then(goalsTracker.updateCurrentGoals)
          .then(goalsTracker.aggregatePoints)
          .then(function() {
            levels.updateLevel()
            var totalPoints = goalInfo.totalPoints()
            $('#progressBar').value = totalPoints
            $('#userTotalPoints').html(totalPoints)
          })

        badges.trackLogin()


    </script>
  </body>
</html>